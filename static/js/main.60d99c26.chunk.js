(this.webpackJsonpmrsoft_tz20ts=this.webpackJsonpmrsoft_tz20ts||[]).push([[0],{35:function(e,t,n){e.exports=n(49)},40:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),u=n(18),i=n.n(u),c=(n(40),n(17)),o=n(1);function l(e,t){return e.map((function(e){return e.id=e.id.toString(),e})).map((function(e){return Object(o.a)({},e,{},t)}))}function s(e){return e&&(e.id=e.id.toString()),e}function d(e){return e.map((function(e){return e}))}function f(e){return e.isSelected=!e.isSelected,e}function p(e){return"X"===e.userStatus?(e.userStatus="R",e.dateOfDeletion=(new Date).toLocaleString("ru",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",timezone:"UTC"})):(e.userStatus="X",e.dateOfDeletion="")}var m="https://mrsoft.by/tz20",h={loading:!1,loaded:!1,entities:[],user:{}},b={userStatus:"X",isSelected:!1},v={userName:"",pagination:{page:1,pageSize:5}},g=Object(c.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.response;switch(n){case"LOAD_ALL_USERS_START":return Object(o.a)({},e,{loading:!0});case"LOAD_ALL_USERS_SUCCESS":return Object(o.a)({},e,{entities:l(r.data,b),loading:!1,loaded:!0});case"LOAD_USER_START":return Object(o.a)({},e,{loading:!0});case"LOAD_USER_SUCCESS":return Object(o.a)({},e,{user:s(r),loading:!1,loaded:!0});case"CHANGE_USER_STATUS":case"SELECTED_USER":return Object(o.a)({},e,{entities:d(e.entities)});default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case"INPUT_NAME":return v.userName=r.value,Object(o.a)({},e,{},v);case"CHANGE_PAGES":return Object(o.a)({},e,{pagination:r});default:return e}}}),S=n(34),E=n(28),O=Object(c.a)(E.a,(function(e){return function(e){return function(t){var n=t.callAPI,r=t.type,a=Object(S.a)(t,["callAPI","type"]);if(!n)return e(t);e(Object(o.a)({},a,{type:r+"_START"}));setTimeout((function(){fetch("https://cors-anywhere.herokuapp.com/"+n).then((function(e){return e.json()})).then((function(t){return e(Object(o.a)({},a,{type:r+"_SUCCESS",response:t}))})).catch((function(t){return e(Object(o.a)({},a,{type:r+"_FAIL",error:t}))}))}),500)}}})),j=Object(c.d)(g,{},O),y=n(3),U=n(7),A=n(8),C=n(9),_=n(10),w=n(14),L=n(4),k=n(5);function x(){var e=Object(L.a)(["\n  display: flex;\n  width: 350px;\n"]);return x=function(){return e},e}var N=function(){return a.a.createElement(P,null,a.a.createElement("h2",null,"Loading..."))},P=k.b.div(x());function R(e){return{type:"SELECTED_USER",payload:e}}var z=n(15),D=Object(z.a)((function(e){return e.filters.userName}),(function(e){return e})),T=Object(z.a)((function(e){return e.filters.pagination}),(function(e){return e})),I=function(e){return e.users.entities},B=Object(z.a)(I,(function(e){return e})),G=Object(z.a)((function(e){return e.users.user}),(function(e){return e})),F=Object(z.a)((function(e){return e.users.loading}),(function(e){return e})),M=Object(z.a)((function(e){return e.users.loaded}),(function(e){return e})),H=Object(z.a)(I,(function(e){return e.filters}),(function(e,t){var n=t.userName,r=t.pagination;return e.filter((function(e){return n?e.name.toLowerCase().includes(n.toLowerCase()):e})).slice(r.page*r.pageSize-r.pageSize,r.page*r.pageSize).sort((function(e,t){return e.userStatus>t.userStatus?-1:e.userStatus<t.userStatus?1:0}))}));function X(){var e=Object(L.a)(["\n  padding: 0 0 15px;\n  width: 500px;\n"]);return X=function(){return e},e}function J(){var e=Object(L.a)(["\n  display: flex;\n"]);return J=function(){return e},e}function W(){var e=Object(L.a)(["\n    float: right;\n    background: transparent;\n    border-radius: 2em;\n    color: #f00;\n    display: inline-block;\n    font-size: 12px;\n    height: 20px;\n    line-height: 1px;\n    margin: 0;\n    padding: 0;\n    text-align: center;\n    width: 20px;\n    :focus { outline: none; }\n"]);return W=function(){return e},e}function q(){var e=Object(L.a)(["\n    background-color: ",";\n    padding: 0 0 5px;\n    margin-bottom: 2px;\n    &[disabled] {\n        opacity: .6;\n        cursor: not-allowed;\n    }\n    & a {\n        pointer-events: ",";\n    }\n"]);return q=function(){return e},e}function $(){var e=Object(L.a)(["\n    margin-right: 20px;\n    width: 350px;\n"]);return $=function(){return e},e}function K(){var e=Object(L.a)([""]);return K=function(){return e},e}function Q(){var e=Object(L.a)(["\n        color: palevioletred;\n    "]);return Q=function(){return e},e}function V(){var e=Object(L.a)(["\n    color: tomato;\n    ","\n"]);return V=function(){return e},e}function Y(){var e=Object(L.a)(["\n    margin-top: 80px;\n    margin-left: 50px\n"]);return Y=function(){return e},e}var Z=k.b.div(Y()),ee=k.b.h2(V(),(function(e){return e.primary&&Object(k.a)(Q())})),te=k.b.a(K()),ne=k.b.div($()),re=k.b.div(q(),(function(e){return e.isSelected&&"aqua"}),(function(e){return e.disabled&&"none"})),ae=k.b.button(W()),ue=k.b.div(J()),ie=k.b.div(X()),ce=function(e){Object(_.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).unSelectedPrevUser=function(t){var n=e.props,r=n.findByEntities,a=n.selectedUser,u=r.find((function(e){return e.id===t}));u&&u.isSelected&&a(f(u))},e}return Object(A.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loading,n=e.loadUser,r=e.userLoad,a=e.user,u=e.clearUser,i=e.selectedUser;if(!t){var c=r&&r.id;u&&u.id&&i(f(u)),a&&!a.isSelected&&(i(f(a)),a.id!==c&&this.unSelectedPrevUser(c)),a&&!a.dateOfDeletion&&n(a.more)}}},{key:"render",value:function(){var e=this.props,t=e.user;return e.loading?a.a.createElement(N,null):!t||t&&"R"===t.userStatus?a.a.createElement(w.a,{to:"/mrsoft_tz20ts"}):a.a.createElement("div",null,a.a.createElement("h3",null,"Selected user name: ",t.name),a.a.createElement("div",null,this.getBody()))}},{key:"getBody",value:function(){var e=this.props,t=e.userLoad,n=e.user;return Object.keys(t).length&&n?a.a.createElement("section",null,a.a.createElement("b",null,"Short info:")," ",n.shortInfo,a.a.createElement("br",null),a.a.createElement("b",null,"Bio:"),a.a.createElement(ie,null,t.bio),a.a.createElement("img",{src:"".concat(m).concat(t.pic),alt:"Preview"})):null}}]),n}(r.Component),oe=Object(y.b)((function(e,t){return{user:e.users.entities.find((function(e){return e.id===t.id})),entities:H(e),findByEntities:B(e),userLoad:G(e),loading:F(e),loaded:M(e)}}),{loadUser:function(e){return{type:"LOAD_USER",callAPI:"".concat(m).concat(e)}},selectedUser:R})(ce),le=n(12),se=function(e){Object(_.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).handleChange=function(t){return e.props.inputFiltratedByName(t.target.value)},e}return Object(A.a)(n,[{key:"render",value:function(){var e=this.props.userName;return a.a.createElement("div",null,a.a.createElement("label",null,a.a.createElement("input",{type:"text",value:e,placeholder:e||"Live filter",onChange:this.handleChange})))}}]),n}(r.Component),de=Object(y.b)((function(e){return{userName:D(e)}}),{inputFiltratedByName:function(e){return{type:"INPUT_NAME",payload:{value:e}}}})(se),fe=n(33),pe=n.n(fe),me=function(e){Object(_.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).handlePageChange=function(t){var n=e.props;(0,n.changePages)({page:t,pageSize:n.pagination.pageSize})},e}return Object(A.a)(n,[{key:"render",value:function(){var e=this.props,t=e.users,n=e.userName,r=e.pagination,u=0;n&&(u=t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})).length);var i=n?u:t.length;return a.a.createElement("div",null,a.a.createElement(pe.a,{activePage:r.page,itemsCountPerPage:r.pageSize,totalItemsCount:i<=0?1:i,onChange:this.handlePageChange}))}}]),n}(r.Component),he=Object(y.b)((function(e){return{users:B(e),userName:D(e),pagination:T(e)}}),{changePages:function(e){return{type:"CHANGE_PAGES",payload:e}}})(me);var be=function(){return a.a.createElement(r.Fragment,null,a.a.createElement(de,null),a.a.createElement(he,null),a.a.createElement("hr",null))},ve=function(e){Object(_.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return(e=t.call.apply(t,[this].concat(a))).state={isSelectedUser:!0},e.handleChangeUserStatus=function(t){var n=e.props,r=n.changeUserStatus,a=n.selectedUser;p(t),r(t),"R"===t.userStatus&&t.isSelected&&a(t)},e.handleSelectedUser=function(t){var n=e.props,r=n.selectedUser,a=n.findByEntities.find((function(e){return e.id!==t.id&&e.isSelected}));a&&r(f(a)),t.isSelected||r(f(t)),e.setState({isSelectedUser:!1})},e}return Object(A.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.loaded,n=e.loading,r=e.loadAllUsers;t||n||r()}},{key:"render",value:function(){var e=this,t=this.props.entities.map((function(t){return a.a.createElement(re,{key:t.id,disabled:"R"===t.userStatus,isSelected:t.isSelected},a.a.createElement(ae,{onClick:function(){return e.handleChangeUserStatus(t)}},t.userStatus),a.a.createElement(te,{as:le.b,to:"/mrsoft_tz20ts/".concat(t.id),onClick:function(){return e.handleSelectedUser(t)}},a.a.createElement("b",null,"R"===t.userStatus?"Deleted: ":"Name: "),t.name,a.a.createElement("br",null),a.a.createElement("b",null,"R"===t.userStatus?"deleted at ".concat(t.dateOfDeletion):"Short Info: "),"R"!==t.userStatus&&t.shortInfo))}));return a.a.createElement("div",null,a.a.createElement(be,null),this.state.isSelectedUser&&a.a.createElement("h4",null,"Please select user"),a.a.createElement(ne,null,t))}}]),n}(r.Component),ge=Object(y.b)((function(e){return{entities:H(e),findByEntities:B(e),loading:F(e),loaded:M(e)}}),{loadAllUsers:function(){return{type:"LOAD_ALL_USERS",callAPI:"".concat(m,"/list.json")}},changeUserStatus:function(e){return{type:"CHANGE_USER_STATUS",payload:e}},selectedUser:R})(ve),Se=function(e){Object(_.a)(n,e);var t=Object(C.a)(n);function n(){var e;Object(U.a)(this,n);for(var r=arguments.length,u=new Array(r),i=0;i<r;i++)u[i]=arguments[i];return(e=t.call.apply(t,[this].concat(u))).getIndex=function(e){var t=e.match.params.id;return a.a.createElement(oe,{id:t,key:t})},e.findSelectedUser=function(){var t=e.props.entities.find((function(e){return e.isSelected}));return a.a.createElement(oe,{clearUser:t})},e}return Object(A.a)(n,[{key:"render",value:function(){return a.a.createElement(ue,null,a.a.createElement(ge,null),a.a.createElement(w.b,{path:"/mrsoft_tz20ts",render:this.findSelectedUser,exact:!0}),a.a.createElement(w.b,{path:"/mrsoft_tz20ts/:id",render:this.getIndex}))}}]),n}(r.Component),Ee=Object(y.b)((function(e){return{entities:B(e)}}))(Se);var Oe=function(){return a.a.createElement(le.b,{to:"/mrsoft_tz20ts"},"Please click for this link")};var je=function(){return a.a.createElement("h1",null,"Not Found")};var ye=function(){return a.a.createElement(Z,null,a.a.createElement(le.a,null,a.a.createElement(y.a,{store:j},a.a.createElement("div",null,a.a.createElement(ee,{primary:!0},"List of cats"),a.a.createElement(w.d,null,a.a.createElement(w.b,{path:"/",component:Oe,exact:!0}),a.a.createElement(w.b,{path:"/mrsoft_tz20ts",component:Ee}),a.a.createElement(w.b,{path:"*",component:je}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[35,1,2]]]);
//# sourceMappingURL=main.60d99c26.chunk.js.map